<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Chapter&nbsp;14.&nbsp;Apache HBase Performance Tuning</title><link rel="stylesheet" type="text/css" href="../css/freebsd_docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="book.html" title="The Apache HBase&#153; Reference Guide"><link rel="up" href="book.html" title="The Apache HBase&#153; Reference Guide"><link rel="prev" href="ch13s06.html" title="13.6.&nbsp;Status of Coprocessors in HBase"><link rel="next" href="perf.network.html" title="14.2.&nbsp;Network"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;14.&nbsp;Apache HBase Performance Tuning</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s06.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="perf.network.html">Next</a></td></tr></table><hr></div><script type="text/javascript">
    var disqus_shortname = 'hbase'; // required: replace example with your forum shortname
    var disqus_url = 'http://hbase.apache.org/book/performance.html';
    </script><div class="chapter" title="Chapter&nbsp;14.&nbsp;Apache HBase Performance Tuning"><div class="titlepage"><div><div><h2 class="title"><a name="performance"></a>Chapter&nbsp;14.&nbsp;Apache HBase Performance Tuning</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="performance.html#perf.os">14.1. Operating System</a></span></dt><dd><dl><dt><span class="section"><a href="performance.html#perf.os.ram">14.1.1. Memory</a></span></dt><dt><span class="section"><a href="performance.html#perf.os.64">14.1.2. 64-bit</a></span></dt><dt><span class="section"><a href="performance.html#perf.os.swap">14.1.3. Swapping</a></span></dt></dl></dd><dt><span class="section"><a href="perf.network.html">14.2. Network</a></span></dt><dd><dl><dt><span class="section"><a href="perf.network.html#perf.network.1switch">14.2.1. Single Switch</a></span></dt><dt><span class="section"><a href="perf.network.html#perf.network.2switch">14.2.2. Multiple Switches</a></span></dt><dt><span class="section"><a href="perf.network.html#perf.network.multirack">14.2.3. Multiple Racks</a></span></dt><dt><span class="section"><a href="perf.network.html#perf.network.ints">14.2.4. Network Interfaces</a></span></dt></dl></dd><dt><span class="section"><a href="jvm.html">14.3. Java</a></span></dt><dd><dl><dt><span class="section"><a href="jvm.html#gc">14.3.1. The Garbage Collector and Apache HBase</a></span></dt></dl></dd><dt><span class="section"><a href="perf.configurations.html">14.4. HBase Configurations</a></span></dt><dd><dl><dt><span class="section"><a href="perf.configurations.html#perf.compactions.and.splits">14.4.1. Managing Compactions</a></span></dt><dt><span class="section"><a href="perf.configurations.html#perf.handlers">14.4.2. <code class="varname">hbase.regionserver.handler.count</code></a></span></dt><dt><span class="section"><a href="perf.configurations.html#perf.hfile.block.cache.size">14.4.3. <code class="varname">hfile.block.cache.size</code></a></span></dt><dt><span class="section"><a href="perf.configurations.html#blockcache.prefetch">14.4.4. Prefetch Option for Blockcache</a></span></dt><dt><span class="section"><a href="perf.configurations.html#perf.rs.memstore.size">14.4.5. <code class="varname">hbase.regionserver.global.memstore.size</code></a></span></dt><dt><span class="section"><a href="perf.configurations.html#perf.rs.memstore.size.lower.limit">14.4.6. <code class="varname">hbase.regionserver.global.memstore.size.lower.limit</code></a></span></dt><dt><span class="section"><a href="perf.configurations.html#perf.hstore.blockingstorefiles">14.4.7. <code class="varname">hbase.hstore.blockingStoreFiles</code></a></span></dt><dt><span class="section"><a href="perf.configurations.html#perf.hregion.memstore.block.multiplier">14.4.8. <code class="varname">hbase.hregion.memstore.block.multiplier</code></a></span></dt><dt><span class="section"><a href="perf.configurations.html#hbase.regionserver.checksum.verify">14.4.9. <code class="varname">hbase.regionserver.checksum.verify</code></a></span></dt><dt><span class="section"><a href="perf.configurations.html#d2875e14227">14.4.10. Tuning <code class="code">callQueue</code> Options</a></span></dt></dl></dd><dt><span class="section"><a href="perf.zookeeper.html">14.5. ZooKeeper</a></span></dt><dt><span class="section"><a href="perf.schema.html">14.6. Schema Design</a></span></dt><dd><dl><dt><span class="section"><a href="perf.schema.html#perf.number.of.cfs">14.6.1. Number of Column Families</a></span></dt><dt><span class="section"><a href="perf.schema.html#perf.schema.keys">14.6.2. Key and Attribute Lengths</a></span></dt><dt><span class="section"><a href="perf.schema.html#schema.regionsize">14.6.3. Table RegionSize</a></span></dt><dt><span class="section"><a href="perf.schema.html#schema.bloom">14.6.4. Bloom Filters</a></span></dt><dt><span class="section"><a href="perf.schema.html#schema.cf.blocksize">14.6.5. ColumnFamily BlockSize</a></span></dt><dt><span class="section"><a href="perf.schema.html#cf.in.memory">14.6.6. In-Memory ColumnFamilies</a></span></dt><dt><span class="section"><a href="perf.schema.html#perf.compression">14.6.7. Compression</a></span></dt></dl></dd><dt><span class="section"><a href="perf.general.html">14.7. HBase General Patterns</a></span></dt><dd><dl><dt><span class="section"><a href="perf.general.html#perf.general.constants">14.7.1. Constants</a></span></dt></dl></dd><dt><span class="section"><a href="perf.writing.html">14.8. Writing to HBase</a></span></dt><dd><dl><dt><span class="section"><a href="perf.writing.html#perf.batch.loading">14.8.1. Batch Loading</a></span></dt><dt><span class="section"><a href="perf.writing.html#precreate.regions">14.8.2.  Table Creation: Pre-Creating Regions </a></span></dt><dt><span class="section"><a href="perf.writing.html#def.log.flush">14.8.3.  Table Creation: Deferred Log Flush </a></span></dt><dt><span class="section"><a href="perf.writing.html#perf.hbase.client.autoflush">14.8.4. HBase Client: AutoFlush</a></span></dt><dt><span class="section"><a href="perf.writing.html#perf.hbase.client.putwal">14.8.5. HBase Client: Turn off WAL on Puts</a></span></dt><dt><span class="section"><a href="perf.writing.html#perf.hbase.client.regiongroup">14.8.6. HBase Client: Group Puts by RegionServer</a></span></dt><dt><span class="section"><a href="perf.writing.html#perf.hbase.write.mr.reducer">14.8.7. MapReduce: Skip The Reducer</a></span></dt><dt><span class="section"><a href="perf.writing.html#perf.one.region">14.8.8. Anti-Pattern: One Hot Region</a></span></dt></dl></dd><dt><span class="section"><a href="perf.reading.html">14.9. Reading from HBase</a></span></dt><dd><dl><dt><span class="section"><a href="perf.reading.html#perf.hbase.client.caching">14.9.1. Scan Caching</a></span></dt><dt><span class="section"><a href="perf.reading.html#perf.hbase.client.selection">14.9.2. Scan Attribute Selection</a></span></dt><dt><span class="section"><a href="perf.reading.html#perf.hbase.client.seek">14.9.3. Avoid scan seeks</a></span></dt><dt><span class="section"><a href="perf.reading.html#perf.hbase.mr.input">14.9.4. MapReduce - Input Splits</a></span></dt><dt><span class="section"><a href="perf.reading.html#perf.hbase.client.scannerclose">14.9.5. Close ResultScanners</a></span></dt><dt><span class="section"><a href="perf.reading.html#perf.hbase.client.blockcache">14.9.6. Block Cache</a></span></dt><dt><span class="section"><a href="perf.reading.html#perf.hbase.client.rowkeyonly">14.9.7. Optimal Loading of Row Keys</a></span></dt><dt><span class="section"><a href="perf.reading.html#perf.hbase.read.dist">14.9.8. Concurrency: Monitor Data Spread</a></span></dt><dt><span class="section"><a href="perf.reading.html#blooms">14.9.9. Bloom Filters</a></span></dt><dt><span class="section"><a href="perf.reading.html#d2875e15120">14.9.10. Hedged Reads</a></span></dt></dl></dd><dt><span class="section"><a href="perf.deleting.html">14.10. Deleting from HBase</a></span></dt><dd><dl><dt><span class="section"><a href="perf.deleting.html#perf.deleting.queue">14.10.1. Using HBase Tables as Queues</a></span></dt><dt><span class="section"><a href="perf.deleting.html#perf.deleting.rpc">14.10.2. Delete RPC Behavior</a></span></dt></dl></dd><dt><span class="section"><a href="perf.hdfs.html">14.11. HDFS</a></span></dt><dd><dl><dt><span class="section"><a href="perf.hdfs.html#perf.hdfs.curr">14.11.1. Current Issues With Low-Latency Reads</a></span></dt><dt><span class="section"><a href="perf.hdfs.html#perf.hdfs.configs.localread">14.11.2. Leveraging local data</a></span></dt><dt><span class="section"><a href="perf.hdfs.html#perf.hdfs.comp">14.11.3. Performance Comparisons of HBase vs. HDFS</a></span></dt></dl></dd><dt><span class="section"><a href="perf.ec2.html">14.12. Amazon EC2</a></span></dt><dt><span class="section"><a href="perf.hbase.mr.cluster.html">14.13. Collocating HBase and MapReduce</a></span></dt><dt><span class="section"><a href="perf.casestudy.html">14.14. Case Studies</a></span></dt></dl></div><div class="section" title="14.1.&nbsp;Operating System"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="perf.os"></a>14.1.&nbsp;Operating System</h2></div></div></div><div class="section" title="14.1.1.&nbsp;Memory"><div class="titlepage"><div><div><h3 class="title"><a name="perf.os.ram"></a>14.1.1.&nbsp;Memory</h3></div></div></div><p>RAM, RAM, RAM. Don't starve HBase.</p></div><div class="section" title="14.1.2.&nbsp;64-bit"><div class="titlepage"><div><div><h3 class="title"><a name="perf.os.64"></a>14.1.2.&nbsp;64-bit</h3></div></div></div><p>Use a 64-bit platform (and 64-bit JVM).</p></div><div class="section" title="14.1.3.&nbsp;Swapping"><div class="titlepage"><div><div><h3 class="title"><a name="perf.os.swap"></a>14.1.3.&nbsp;Swapping</h3></div></div></div><p>Watch out for swapping. Set swappiness to 0.</p></div></div></div><div id="disqus_thread"></div><script type="text/javascript">
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s06.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="perf.network.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">13.6.&nbsp;Status of Coprocessors in HBase&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;14.2.&nbsp;Network</td></tr></table></div></body></html>